# Flutter Integration (Android ↔ Flutter module)

## Summary

The repo is set up to support **real Flutter-based AI-native apps** via the `flutter_workflow_editor` module, while still allowing the Android project to compile in environments that don’t have Flutter installed.

### How the switch works
- If `flutter_workflow_editor/.android/Flutter` exists (generated by Flutter tooling), Gradle will include `:flutter_workflow_editor` and the app will compile/run with real Flutter.
- If it does not exist, Gradle will fall back to `:flutter_stubs` (compilation-only) and AI-native Flutter screens will show the expected “Flutter not embedded” message at runtime.

---

## What was implemented in this repo

1. **Flutter module source added**
   - `flutter_workflow_editor/` contains the Dart code + `pubspec.yaml`.

2. **Gradle wiring**
   - `settings.gradle.kts` conditionally includes `:flutter_workflow_editor` only when the generated Android project exists.
   - `app/build.gradle.kts` conditionally depends on `:flutter_workflow_editor` (preferred) or `:flutter_stubs` (fallback).

---

## To enable real Flutter functionality

On a machine with Flutter + Android SDK installed:

```bash
cd flutter_workflow_editor
flutter pub get
flutter build aar --release

cd ..
./gradlew clean
./gradlew assembleDebug
```

Then install:

```bash
adb install app/build/outputs/apk/debug/app-debug.apk
```

For more details, see `FLUTTER_INTEGRATION_STATUS.md`.
